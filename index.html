<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#3b82f6">
    <title>Tracking Your Life</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Lucide icons as simple SVG components
        const Calendar = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>;
        const DollarSign = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>;
        const Dumbbell = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14.4 14.4L9.6 9.6"></path><path d="M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z"></path><path d="M21.5 21.5l-1.4-1.4"></path><path d="M3.9 3.9l1.4 1.4"></path><path d="M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z"></path></svg>;
        const ShoppingCart = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>;
        const Utensils = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path><path d="M7 2v20"></path><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path></svg>;
        const Plus = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
        const Trash2 = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>;
        const Check = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="20 6 9 17 4 12"></polyline></svg>;

        const PersonalTracker = () => {
          const [activeTab, setActiveTab] = useState('budget');
          
          const [budgetEntries, setBudgetEntries] = useState(() => {
            const saved = localStorage.getItem('budgetEntries');
            return saved ? JSON.parse(saved) : [];
          });
          
          const [exerciseEntries, setExerciseEntries] = useState(() => {
            const saved = localStorage.getItem('exerciseEntries');
            return saved ? JSON.parse(saved) : [];
          });
          
          const [shoppingList, setShoppingList] = useState(() => {
            const saved = localStorage.getItem('shoppingList');
            return saved ? JSON.parse(saved) : [];
          });
          
          const [dietEntries, setDietEntries] = useState(() => {
            const saved = localStorage.getItem('dietEntries');
            return saved ? JSON.parse(saved) : [];
          });

          useEffect(() => {
            localStorage.setItem('budgetEntries', JSON.stringify(budgetEntries));
          }, [budgetEntries]);
          
          useEffect(() => {
            localStorage.setItem('exerciseEntries', JSON.stringify(exerciseEntries));
          }, [exerciseEntries]);
          
          useEffect(() => {
            localStorage.setItem('shoppingList', JSON.stringify(shoppingList));
          }, [shoppingList]);
          
          useEffect(() => {
            localStorage.setItem('dietEntries', JSON.stringify(dietEntries));
          }, [dietEntries]);

          const BudgetTab = () => {
            const [amount, setAmount] = useState('');
            const [category, setCategory] = useState('');
            const [description, setDescription] = useState('');

            const addBudgetEntry = () => {
              if (amount && category) {
                const newEntry = {
                  id: Date.now(),
                  date: new Date().toISOString().split('T')[0],
                  amount: parseFloat(amount),
                  category,
                  description
                };
                setBudgetEntries([newEntry, ...budgetEntries]);
                setAmount('');
                setCategory('');
                setDescription('');
              }
            };

            const deleteEntry = (id) => {
              setBudgetEntries(budgetEntries.filter(e => e.id !== id));
            };

            const totalSpent = budgetEntries.reduce((sum, e) => sum + e.amount, 0);

            return (
              <div className="space-y-4">
                <div className="bg-white p-4 rounded-lg shadow">
                  <h3 className="font-semibold mb-3">Add Expense</h3>
                  <input
                    type="number"
                    placeholder="Amount"
                    value={amount}
                    onChange={(e) => setAmount(e.target.value)}
                    className="w-full p-2 border rounded mb-2"
                    step="0.01"
                  />
                  <input
                    type="text"
                    placeholder="Category (e.g., Food, Transport)"
                    value={category}
                    onChange={(e) => setCategory(e.target.value)}
                    className="w-full p-2 border rounded mb-2"
                  />
                  <input
                    type="text"
                    placeholder="Description (optional)"
                    value={description}
                    onChange={(e) => setDescription(e.target.value)}
                    className="w-full p-2 border rounded mb-2"
                  />
                  <button
                    onClick={addBudgetEntry}
                    className="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 flex items-center justify-center gap-2"
                  >
                    <Plus size={20} /> Add Expense
                  </button>
                </div>

                <div className="bg-blue-50 p-4 rounded-lg">
                  <p className="text-lg font-semibold">Total Spent: ${totalSpent.toFixed(2)}</p>
                </div>

                <div className="space-y-2">
                  {budgetEntries.map(entry => (
                    <div key={entry.id} className="bg-white p-3 rounded-lg shadow flex justify-between items-start">
                      <div>
                        <p className="font-semibold">${entry.amount.toFixed(2)} - {entry.category}</p>
                        <p className="text-sm text-gray-600">{entry.date}</p>
                        {entry.description && <p className="text-sm text-gray-500">{entry.description}</p>}
                      </div>
                      <button
                        onClick={() => deleteEntry(entry.id)}
                        className="text-red-500 hover:text-red-700"
                      >
                        <Trash2 size={18} />
                      </button>
                    </div>
                  ))}
                </div>
              </div>
            );
          };

          const ExerciseTab = () => {
            const [duration, setDuration] = useState('');
            const [type, setType] = useState('');

            const addExercise = () => {
              if (duration && type) {
                const newEntry = {
                  id: Date.now(),
                  date: new Date().toISOString().split('T')[0],
                  duration,
                  type
                };
                setExerciseEntries([newEntry, ...exerciseEntries]);
                setDuration('');
                setType('');
              }
            };

            const deleteEntry = (id) => {
              setExerciseEntries(exerciseEntries.filter(e => e.id !== id));
            };

            return (
              <div className="space-y-4">
                <div className="bg-white p-4 rounded-lg shadow">
                  <h3 className="font-semibold mb-3">Log Exercise</h3>
                  <input
                    type="text"
                    placeholder="Duration (e.g., 30 minutes)"
                    value={duration}
                    onChange={(e) => setDuration(e.target.value)}
                    className="w-full p-2 border rounded mb-2"
                  />
                  <input
                    type="text"
                    placeholder="Type (e.g., Running, Gym, Yoga)"
                    value={type}
                    onChange={(e) => setType(e.target.value)}
                    className="w-full p-2 border rounded mb-2"
                  />
                  <button
                    onClick={addExercise}
                    className="w-full bg-green-500 text-white p-2 rounded hover:bg-green-600 flex items-center justify-center gap-2"
                  >
                    <Plus size={20} /> Log Exercise
                  </button>
                </div>

                <div className="space-y-2">
                  {exerciseEntries.map(entry => (
                    <div key={entry.id} className="bg-white p-3 rounded-lg shadow flex justify-between items-start">
                      <div>
                        <p className="font-semibold">{entry.type} - {entry.duration}</p>
                        <p className="text-sm text-gray-600">{entry.date}</p>
                      </div>
                      <button
                        onClick={() => deleteEntry(entry.id)}
                        className="text-red-500 hover:text-red-700"
                      >
                        <Trash2 size={18} />
                      </button>
                    </div>
                  ))}
                </div>
              </div>
            );
          };

          const ShoppingTab = () => {
            const [item, setItem] = useState('');

            const addItem = () => {
              if (item) {
                const newItem = {
                  id: Date.now(),
                  name: item,
                  checked: false
                };
                setShoppingList([...shoppingList, newItem]);
                setItem('');
              }
            };

            const toggleItem = (id) => {
              setShoppingList(shoppingList.map(i => 
                i.id === id ? { ...i, checked: !i.checked } : i
              ));
            };

            const deleteItem = (id) => {
              setShoppingList(shoppingList.filter(i => i.id !== id));
            };

            return (
              <div className="space-y-4">
                <div className="bg-white p-4 rounded-lg shadow">
                  <h3 className="font-semibold mb-3">Add Item</h3>
                  <div className="flex gap-2">
                    <input
                      type="text"
                      placeholder="Item name"
                      value={item}
                      onChange={(e) => setItem(e.target.value)}
                      onKeyPress={(e) => e.key === 'Enter' && addItem()}
                      className="flex-1 p-2 border rounded"
                    />
                    <button
                      onClick={addItem}
                      className="bg-purple-500 text-white px-4 rounded hover:bg-purple-600"
                    >
                      <Plus size={20} />
                    </button>
                  </div>
                </div>

                <div className="space-y-2">
                  {shoppingList.map(item => (
                    <div key={item.id} className="bg-white p-3 rounded-lg shadow flex items-center gap-3">
                      <button
                        onClick={() => toggleItem(item.id)}
                        className={`w-6 h-6 border-2 rounded flex items-center justify-center ${
                          item.checked ? 'bg-purple-500 border-purple-500' : 'border-gray-300'
                        }`}
                      >
                        {item.checked && <Check size={16} />}
                      </button>
                      <span className={`flex-1 ${item.checked ? 'line-through text-gray-400' : ''}`}>
                        {item.name}
                      </span>
                      <button
                        onClick={() => deleteItem(item.id)}
                        className="text-red-500 hover:text-red-700"
                      >
                        <Trash2 size={18} />
                      </button>
                    </div>
                  ))}
                </div>
              </div>
            );
          };

          const DietTab = () => {
            const [meal, setMeal] = useState('');

            const addMeal = () => {
              if (meal) {
                const newEntry = {
                  id: Date.now(),
                  date: new Date().toISOString().split('T')[0],
                  meal
                };
                setDietEntries([newEntry, ...dietEntries]);
                setMeal('');
              }
            };

            const deleteEntry = (id) => {
              setDietEntries(dietEntries.filter(e => e.id !== id));
            };

            return (
              <div className="space-y-4">
                <div className="bg-white p-4 rounded-lg shadow">
                  <h3 className="font-semibold mb-3">Log Meal</h3>
                  <textarea
                    placeholder="What did you eat?"
                    value={meal}
                    onChange={(e) => setMeal(e.target.value)}
                    className="w-full p-2 border rounded mb-2 h-24"
                  />
                  <button
                    onClick={addMeal}
                    className="w-full bg-orange-500 text-white p-2 rounded hover:bg-orange-600 flex items-center justify-center gap-2"
                  >
                    <Plus size={20} /> Log Meal
                  </button>
                </div>

                <div className="space-y-2">
                  {dietEntries.map(entry => (
                    <div key={entry.id} className="bg-white p-3 rounded-lg shadow flex justify-between items-start">
                      <div>
                        <p className="text-sm text-gray-600 mb-1">{entry.date}</p>
                        <p>{entry.meal}</p>
                      </div>
                      <button
                        onClick={() => deleteEntry(entry.id)}
                        className="text-red-500 hover:text-red-700"
                      >
                        <Trash2 size={18} />
                      </button>
                    </div>
                  ))}
                </div>
              </div>
            );
          };

          const tabs = [
            { id: 'budget', name: 'Budget', icon: DollarSign, color: 'blue' },
            { id: 'exercise', name: 'Exercise', icon: Dumbbell, color: 'green' },
            { id: 'shopping', name: 'Shopping', icon: ShoppingCart, color: 'purple' },
            { id: 'diet', name: 'Diet', icon: Utensils, color: 'orange' }
          ];

          return (
            <div className="min-h-screen bg-gray-100">
              <div className="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 shadow-lg">
                <h1 className="text-2xl font-bold text-center">Life Tracker</h1>
              </div>

              <div className="bg-white shadow-sm flex overflow-x-auto">
                {tabs.map(tab => {
                  const Icon = tab.icon;
                  return (
                    <button
                      key={tab.id}
                      onClick={() => setActiveTab(tab.id)}
                      className={`flex-1 min-w-max p-4 flex flex-col items-center gap-1 ${
                        activeTab === tab.id
                          ? `border-b-2 border-${tab.color}-500 text-${tab.color}-600`
                          : 'text-gray-500'
                      }`}
                    >
                      <Icon />
                      <span className="text-xs font-medium">{tab.name}</span>
                    </button>
                  );
                })}
              </div>

              <div className="p-4 max-w-2xl mx-auto">
                {activeTab === 'budget' && <BudgetTab />}
                {activeTab === 'exercise' && <ExerciseTab />}
                {activeTab === 'shopping' && <ShoppingTab />}
                {activeTab === 'diet' && <DietTab />}
              </div>
            </div>
          );
        };

        ReactDOM.render(<PersonalTracker />, document.getElementById('root'));
    </script>

    <script>
        // Register service worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.log('Service Worker registration failed'));
            });
        }
    </script>
</body>
</html>
